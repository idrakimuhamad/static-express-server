(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"08EP":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/accounts",function(){return n("Qej7")}])},Qej7:function(e,t,n){"use strict";n.r(t);var c=n("k9sC"),o=n.n(c),i=n("yP/C"),r=n("pneb"),a=n("wk2l"),s=n("Iy7w"),u=n("ERkP"),l=n.n(u),f=(n("jvFD"),n("ysqo")),p=n.n(f),d=n("uDfI"),g=n("1GyV"),b=n("h2/w"),y=n("onG6"),m=n("gGgb"),x=n("AlOv"),h=n("UUhN"),w=l.a.createElement,A=Object(g.a)(b.Box),v=Object(g.a)(b.Card),S=Object(s.default)(b.Box,{target:"e1mfd9pn0"})("border-bottom:1px solid ",function(e){return e.border},";"),j=Object(s.default)(b.Button,{target:"e1mfd9pn1"})({name:"gnmc55",styles:"opacity:0;transition:opacity 0.25s ease-in-out;"}),k=Object(s.default)(v,{target:"e1mfd9pn2"})("&:hover{",j,"{opacity:1;}}"),I=Object(s.default)(b.Box,{target:"e1mfd9pn3"})({name:"1tmpnxo",styles:"right:0;top:0;bottom:0;.status-label--container{right:0;&:before{content:'';position:absolute;left:-8px;right:0px;bottom:-10px;height:16px;background:white;border-radius:12px;}}"}),O=function(e){var t=e.label,n=e.bg,c=e.color,o=Object(a.a)(e,["label","bg","color"]);return w(b.Box,Object(r.a)({borderRadius:4,py:1,px:2,bg:n},o),w(b.Text,{fontSize:".7rem",lineHeight:"title",textCase:"uppercase",color:c},t))},D=["Deposit","View transactions"],F=["Pay","View transactions"],T=Object(b.withTheme)(Object(m.a)(function(e){var t=e.theme,n=e.handlePageTransition,c=e.isRouteChanging,o=Object(d.c)(function(e){return e.accounts}).accountsList,i=Object(d.c)(function(e){return e.ui}).loading,r=Object(u.useRef)(),a=Object(u.useRef)(),s=Object(g.d)(!c,null,{from:{opacity:0,transform:"translateX(5rem)"},enter:{opacity:1,transform:"translateX(0)"},leave:{opacity:0,transform:"translateX(5rem)"},ref:r}),f=Object(g.d)(!c,null,{from:{opacity:0,transform:"translateY(2rem)"},enter:{opacity:1,transform:"translateY(0)"},leave:{opacity:0,transform:"translateY(2rem)"},ref:a});return Object(g.b)([r,a],[0,1]),w(l.a.Fragment,null,w(p.a,null,w("title",null,"All Accounts")),s.map(function(e){var c=e.item,r=e.key,a=e.props;return c&&w(A,{key:r,style:a},w(b.Flex,{flexDirection:"column"},w(b.H3,{fontSize:4,mb:4,color:"title",lineHeight:"copy"},"All Accounts"),w(b.Box,null,w(b.Flex,{flexDirection:"column"},h.a.ifThenElse(i,w(b.Flex,{flexDirection:"row",flex:"auto",alignItems:"center",justifyContent:"center",py:4},w(b.Spinner,{variant:"primary",size:"large"})),h.a.ifThenElse(!o.length,w(b.Text,null,"No accounts"),o.map(function(e){return w(b.Flex,{flexDirection:"column",key:e.key,mb:4},w(b.H6,{fontSize:1,flexDirection:"column",color:"title",lineHeight:"copy",textCase:"uppercase"},e.key),e.values.map(function(c){return f.map(function(o){var i=o.item,r=o.props;return i&&w(k,{key:c.id,maxWidth:"40rem",mb:3,position:"relative",isBordered:!0,isInteractive:!0,style:r},e.key.includes("accounts")&&c.isDormant&&w(I,{overflow:"hidden",borderRadius:"0 8px 0 0",width:.5,position:"absolute"},w(b.Box,{px:2,pb:2,className:"status-label--container",position:"absolute",bg:"body"},w(b.Text,{fontSize:".7rem",color:"white",textCase:"uppercase",lineHeight:"copy"},"Dormant"))),c.isBlocked&&w(I,{overflow:"hidden",borderRadius:"0 8px 0 0",width:.5,position:"absolute"},w(b.Box,{px:2,pb:2,className:"status-label--container",position:"absolute",bg:"error"},w(b.Text,{fontSize:".7rem",color:"white",textCase:"uppercase",lineHeight:"copy"},"Blocked"))),w(b.Flex,{flexDirection:"row",position:"relative",zIndex:1},w(b.Box,{py:3,pl:3},function(e,t){switch(e){case"savings accounts":case"current accounts":return w(b.Icon.SavingsIcon,null);case"fixed deposit":case"term deposit":return w(b.Icon.DepositIcon,null);case"housing loan":return w(b.Icon.LoanIcon,null);case"personal finance":return w(b.Icon.PersonalLoanIcon,null);case"credit card":return w("visa"===t?b.Icon.VisaIcon:b.Icon.MasterCardIcon,null);default:return w(b.Icon.SavingsIcon,null)}}(e.key,e.key.includes("credit")&&c.type)),w(b.Flex,{flex:"auto",flexDirection:"column"},w(S,{as:"a",href:"/accounts/savings/".concat(c.accountNo),onClick:function(e){return n(e,"/accounts/savings/".concat(c.accountNo),"/accounts/savings/[accountNo]")},flex:"auto",pr:3,py:3,ml:3,border:t.colors.grey[4]},w(b.Flex,{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},w(b.Text,{fontSize:2,lineHeight:"copy",color:"title",fontWeight:"bold"},c.label),w(b.Text,{fontSize:2,lineHeight:"copy",color:"accent"},c.currency," ",h.a.ifThenElse(e.key.includes("accounts"),c.balance,h.a.ifThenElse(e.key.includes("deposit"),c.amount,h.a.ifThenElse(e.key.includes("card"),c.outstanding,c.remaining))))),w(b.Flex,{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},w(b.Text,{color:"caption",lineHeight:"copy"},"credit card"===e.key?c.cardNo:c.accountNo),!e.key.includes("accounts")&&w(b.Text,{color:"caption",lineHeight:"copy"},h.a.ifThenElse(e.key.includes("deposit"),"Mature on ".concat(c.maturityDate),h.a.ifThenElse(e.key.includes("card"),"Outstanding","Remaining"))))),w(b.Flex,{flexDirection:"row",alignItems:"center",justifyContent:"space-between",py:2,px:3},e.key.includes("accounts")&&w(b.Flex,{flexDirection:"row",alignItems:"center"},c.isStaff&&w(O,{label:"Staff",bg:"primary",color:"white"})),w(b.Flex,{flex:"auto",justifyContent:"flex-end",alignItems:"center"},e.key.includes("accounts")&&w(j,{variant:"primary",isUnelevated:!0},"Pay"),w(b.Dropdown,{size:"small",trigger:w(b.Icon.MoreIcon,{color:"accent"}),options:e.key.includes("card")?F:D,disableIcon:!0}))))))})}))})))))))}))}));T.Layout=x.a,T.getInitialProps=function(){var e=Object(i.a)(o.a.mark(function e(t){var n,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.store,c=t.isServer,e.next=3,n.dispatch({type:y.a.type,payload:"userid"});case 3:return e.abrupt("return",{isServer:c});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),t.default=T},onG6:function(e,t,n){"use strict";n.d(t,"k",function(){return i}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return u}),n.d(t,"d",function(){return l}),n.d(t,"h",function(){return f}),n.d(t,"j",function(){return p}),n.d(t,"i",function(){return d}),n.d(t,"e",function(){return g}),n.d(t,"g",function(){return b}),n.d(t,"f",function(){return y});var c=n("Dpjx"),o=Object(c.b)({slice:"accounts",initial:{accountsList:[],specificAccountsList:[],selectedAccountDetails:null},actions:{getAllAccounts:function(e){return e},getAllAccountsSuccess:Object(c.a)("accountsList"),getAllAccountsFailure:function(e){return e},getSavingsAccountsAndRedirect:function(e){return e},getSpecificAccountsList:function(e){return e},getSpecificAccountsListSuccess:Object(c.a)("specificAccountsList"),getSpecificAccountsListFailure:function(e){return e},getSelectedAccount:function(e){return e},getSelectedAccountSuccess:Object(c.a)("selectedAccountDetails"),getSelectedAccountFailure:function(e){return e}},selectors:{getValue:c.c}}),i=o.reducer,r=(o.initial,o.slice,o.actions),a=r.getAllAccounts,s=r.getAllAccountsSuccess,u=r.getAllAccountsFailure,l=r.getSavingsAccountsAndRedirect,f=r.getSpecificAccountsList,p=r.getSpecificAccountsListSuccess,d=r.getSpecificAccountsListFailure,g=r.getSelectedAccount,b=r.getSelectedAccountSuccess,y=r.getSelectedAccountFailure;o.selectors}},[["08EP",1,0]]]);