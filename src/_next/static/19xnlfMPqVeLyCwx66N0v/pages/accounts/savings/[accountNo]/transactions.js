(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{UEUj:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/accounts/savings/[accountNo]/transactions",function(){return n("pccU")}])},awOf:function(e,t,n){"use strict";var a=n("Iy7w"),r=n("ERkP"),o=n.n(r),c=n("h2/w"),i=o.a.createElement,l=Object(a.default)(c.Flex,{target:"efljyui0"})({name:"1l96v5p",styles:"border-bottom:1px solid rgba(0,0,0,0.15);"}),s=Object(a.default)(c.Box,{target:"efljyui1"})({name:"pihhiq",styles:"cursor:pointer;position:relative;&:before{content:'';position:absolute;bottom:0;left:50%;width:0;height:2px;background-color:transparent;transition:all 0.25s ease-in-out;}&.is-active{&:before{width:100%;left:0;background-color:currentColor;}}"});t.a=function(e){var t=e.data,n=e.onChange,a=e.selectedIndex;return i(l,{flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},t.map(function(e,t){return i(s,{as:"a",py:3,mx:3,key:e.label,color:"accent",onClick:function(){return n(t)},className:a===t?"is-active":null},i(c.Text,{color:"title",lineHeight:"copy",fontSize:2},e.label))}))}},lVaU:function(e,t,n){"use strict";n.d(t,"g",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return u}),n.d(t,"d",function(){return p}),n.d(t,"f",function(){return f}),n.d(t,"e",function(){return d});var a=n("rNCn"),r=n("Dpjx"),o=Object(r.b)({slice:"transactions",initial:{transactions:[],transaction:null,searchQuery:"",type:"all",dateFilter:null,loading:!1},actions:{getAllTransactions:function(e,t){var n=t.type;return Object(a.a)({},e,{transactions:[],type:n})},getAllTransactionsSuccess:Object(r.a)("transactions"),getAllTransactionsFailure:function(e){return e},getTransaction:function(e){return Object(a.a)({},e,{transaction:null,loading:!0})},getTransactionSuccess:function(e,t){return Object(a.a)({},e,{transaction:t,loading:!1})},getTransactionFailure:function(e){return Object(a.a)({},e,{loading:!1})}},selectors:{getValue:r.c}}),c=o.reducer,i=(o.initial,o.slice,o.actions),l=i.getAllTransactions,s=i.getAllTransactionsSuccess,u=i.getAllTransactionsFailure,p=i.getTransaction,f=i.getTransactionSuccess,d=i.getTransactionFailure;o.selectors},pccU:function(e,t,n){"use strict";n.r(t);var a=n("k9sC"),r=n.n(a),o=n("yP/C"),c=n("rNCn"),i=n("pneb"),l=n("wk2l"),s=n("Iy7w"),u=n("ERkP"),p=n.n(u),f=n("uDfI"),d=n("ysqo"),b=n.n(d),m=(n("jvFD"),n("7xIC")),y=n("1GyV"),g=n("h2/w"),x=n("lVaU"),h=n("gGgb"),v=n("awOf"),w=n("y01R"),j=n("sOU5"),O=n("AlOv"),k=p.a.createElement,D=Object(s.default)(g.Flex,{target:"e84gwbb0"})(""),C=Object(s.default)(g.Box,{target:"e84gwbb1"})({name:"gooh2e",styles:"border:0;outline:0;"});function I(e){var t=e.placeholder,n=e.value,a=e.onChange;return k(D,{flexDirection:"row",alignItems:"center",width:1,borderRadius:8,pr:2,bg:"grey.5"},k(C,{width:1,p:3,bg:"transparent",as:"input",fontSize:2,lineHeight:"copy",type:"text",color:"caption",placeholder:t,value:n,onChange:a,className:"search-input"}),k(g.Icon.SearchIcon,null))}I.defaultProps={placeholder:"",value:""};var T=n("wgY5"),S=n.n(T),P=p.a.createElement,B={startDate:null,endDate:null},F=Object(y.a)(g.Box),R=Object(s.default)(g.Box,{target:"e1luq45l0"})("cursor:pointer;border:1px solid ",function(e){return e.haveValue?"currentColor":"rgba(0, 0, 0, 0.05)"},";");function N(e){var t=e.startDate,n=e.endDate,a=e.onReset,r=e.onPanelApply,o=Object(u.useState)(!1),c=o[0],i=o[1],l=function(e,t){B={startDate:e,endDate:t}},s=function(){i(!1),r(B)},p=function(e){return S()(e).format("D MMMM")},f=Object(y.d)(c,null,{from:{opacity:0,transform:"translateY(-12px)"},enter:function(){return[{opacity:1,transform:"translateY(6px)"},{opacity:1,transform:"translateY(0)"}]},leave:{opacity:0,transform:"translateY(-12px)"}});return P(g.Flex,{className:"datepicker--container",flexDirection:"row",alignItems:"center",position:"relative",zIndex:77},P(R,{bg:t&&n?"primary":"grey.4",color:"primary",onClick:function(){return i(!c)},py:1,px:3,borderRadius:4,haveValue:t&&n},P(g.Text,{color:t&&n?"white":"title",lineHeight:"copy",fontSize:2,fontWeight:"normal",textCase:"capitalize"},t&&n?"".concat(p(t)," - ").concat(p(n)):"Dates")),t&&n&&P(g.Button,{ml:2,size:"small",variant:"primary",isRounded:!1,onClick:a},"Reset"),f.map(function(e){var t=e.item,n=e.key,a=e.props;return t&&P(g.Box,{key:n,position:"absolute",top:"calc(100% + .5rem)"},P(F,{style:a},P(g.Datepicker,{onDateChange:l,enablePanel:!0,renderPanelContent:function(){return P(g.Flex,{bg:"white",flexDirection:"row",alignItems:"center",justifyContent:"flex-end"},P(g.Button,{variant:"primary",size:"small",isUnelevated:!0,onClick:s},"Apply"))}})))}))}N.defaultProps={startDate:null,endDate:null,onPanelApply:function(){},onReset:function(){}};var E=p.a.createElement,Y=[{label:"All",value:"all"},{label:"Debit",value:"debit"},{label:"Credit",value:"credit"}],H=Object(y.a)(g.Box),z=Object(s.default)(g.Box,{target:"e1efjy9u0"})({name:"ytumd6",styles:"text-decoration:none;"}),A=Object(s.default)(H,{target:"e1efjy9u1"})({name:"brskh1",styles:"bottom:1rem;cursor:pointer;&:before{content:'';position:absolute;left:2px;top:2px;right:2px;bottom:2px;border-radius:100%;border:2px solid white;}"}),U=function(e){var t=e.href,n=e.asHref,a=e.handlePageTransition,r=Object(l.a)(e,["href","asHref","handlePageTransition"]);return E(z,Object(i.a)({as:"a",color:"accent",lineHeight:"copy",mb:1,href:t,onClick:function(e){return a(e,t,n)}},r))},L=Object(g.withTheme)(Object(h.a)(function(e){var t=e.handlePageTransition,n=Object(m.useRouter)(),a=Object(f.b)(),r=Object(u.useState)(""),o=r[0],l=r[1],s=Object(u.useState)(0),d=s[0],h=s[1],O=Object(u.useState)(!1),k=O[0],D=O[1],C=Object(u.useState)(""),T=C[0],S=C[1],P=Object(f.c)(function(e){return Object(c.a)({},e.transactions,e.ui)}),B=P.transactions,F=P.dateFilter,R=P.loading,H=Object(u.useState)({startDate:F&&F.startDate||null,endDate:F&&F.endDate||null}),z=H[0],L=H[1],V=n.query.accountNo,_=function(e){var t=e.target.scrollingElement.getBoundingClientRect().top;Math.abs(t)>310?D(!0):D(!1)},q=function(){"scrollBehavior"in document.documentElement.style?window.scrollTo({top:0,left:0,behavior:"smooth"}):window.scrollTo(0,0)},G=Object(u.useCallback)(function(e){return a({type:x.a.type,payload:{accountNo:V,type:e}})},[a]),M=Object(y.d)(k,null,{from:{opacity:0,transform:"translateY(44px)"},enter:{opacity:1,transform:"translateY(0)"},leave:{opacity:0,transform:"translateY(44px)"}});return Object(u.useEffect)(function(){return window.addEventListener("scroll",_,{passive:!0}),function(){window.removeEventListener("scroll",_,{passive:!0})}},[]),E(p.a.Fragment,null,E(b.a,null,E("title",null,"Savings Account: ",V)),E(g.Flex,{flexDirection:"row"},E(g.Box,{width:"40rem"},E(U,{href:"/accounts/savings/".concat(V),asHref:"/accounts/savings/[accountNo]",handlePageTransition:t,mb:1},"Savings Accounts"),E(g.H3,{fontSize:4,mb:4,color:"title",lineHeight:"copy"},"Transactions"),E(I,{placeholder:"Search transactions",value:o,onChange:function(e){var t=e.target.value;l(t)}}),E(g.Flex,{flexDirection:"row",alignItems:"center",justifyContent:"space-between",py:4},E(N,Object(i.a)({},z,{onPanelApply:function(e){var t=e.startDate,n=e.endDate;return L({startDate:t,endDate:n})},onReset:function(){return L({startDate:null,endDate:null})}})),E(g.Flex,{flexDirection:"row",alignItems:"center"},E(g.Button,{variant:"primary",size:"small",isRounded:!1,icon:E(g.Icon.DownloadIcon,{color:"accent"})},E(g.Text,{lineHeight:"copy",textCase:"uppercase",color:"accent",ml:1},"Download")),E(g.Button,{variant:"primary",size:"small",isRounded:!1,ml:1,icon:E(g.Icon.PrintIcon,{color:"accent"})},E(g.Text,{lineHeight:"copy",textCase:"uppercase",color:"accent",ml:1},"Print")))),E(g.Box,{mb:4},E(v.a,{data:Y,selectedIndex:d,onChange:function(e){var t=Y[e].value;d!==e&&h(e),G(t)}}),E(w.a,{accountNo:V,transactions:B,isLoading:R,onGetTransaction:function(e){return!!e&&S(e)}}))),E(g.Flex,{justifyContent:"flex-end",alignItems:"flex-end",flex:"auto",pb:4},M.map(function(e){var t=e.item,n=e.key,a=e.props;return t&&E(A,{onClick:q,style:a,key:n,position:"sticky",bg:"grey.5",color:"grey.5",width:"3rem",height:"3rem",borderRadius:"3rem"})}))),E(j.a,{id:T,accountNo:V,visible:!!T,onClose:function(){return S(null)}}))}));L.defaultProps={handlePageTransition:function(){}},L.getInitialProps=function(){var e=Object(o.a)(r.a.mark(function e(t){var n,a,o,c;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.query,a=t.store,o=t.isServer,c=n.accountNo,e.next=4,a.dispatch({type:x.a.type,payload:{accountNo:c,type:"all"}});case 4:return e.abrupt("return",{isServer:o});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),L.Layout=O.a;t.default=L},sOU5:function(e,t,n){"use strict";var a=n("wk2l"),r=n("pneb"),o=n("Iy7w"),c=n("ERkP"),i=n.n(c),l=n("7nmT"),s=n.n(l),u=n("uDfI"),p=n("1GyV"),f=n("h2/w"),d=n("lVaU"),b=i.a.createElement,m=Object(p.a)(f.Box),y=Object(o.default)(f.Box,{target:"e1pcafit0"})({name:"12ljvtk",styles:"cursor:pointer;transition:all 0.25s ease-in-out;transform:rotate(0);&:hover{transform:rotate(90deg);}"}),g=function(e){return b(f.Text,Object(r.a)({color:"caption",lineHeight:"copy"},e))},x=function(e){return b(f.Text,Object(r.a)({color:"title",fontSize:2,lineHeight:"copy"},e))},h=function(e){var t=e.label,n=e.value,o=e.bg,c=Object(a.a)(e,["label","value","bg"]);return b(f.Box,Object(r.a)({bg:o,p:3},c),b(g,null,t),b(x,null,n))};h.defaultProps={label:"",value:"",bg:"transparent"};var v=function(e){return b(f.Flex,Object(r.a)({flexDirection:"row",flexWrap:"wrap",borderRadius:4,bg:"grey.5"},e))},w=Object(f.withTheme)(function(e){var t=e.visible,n=e.id,r=e.accountNo,o=e.onClose,l=Object(a.a)(e,["visible","id","accountNo","onClose"]),g=Object(u.b)(),x=document.getElementById("__next"),w=Object(u.c)(function(e){return e.transactions}),j=w.transaction,O=w.loading,k=function(){return o()},D=function(e){e?document.querySelector("html").classList.add("scroll-lock"):document.querySelector("html").classList.remove("scroll-lock")},C=Object(p.d)(t,null,{from:{opacity:0,left:"20%",transform:"scale(0.8)"},enter:{opacity:1,left:"0",transform:"scale(1)"},leave:{opacity:0,left:"20%",transform:"scale(0.8)"}}),I=Object(p.d)(t,null,{from:{opacity:0,background:"white",transform:"scale(0.8) translateY(-44px)"},enter:[{transform:"scale(1) translateY(-44px)"},{opacity:1,transform:"scale(1) translateY(0)",background:l.theme.colors.primary}],leave:[{background:"white",opacity:0,transform:"translateY(-44px)"},{transform:"scale(0.8)"}]}),T=Object(p.d)(t,null,{from:{opacity:0,transform:"scale(0.8) translateY(-44px)"},enter:[{transform:"scale(1) translateY(-44px)"},{opacity:1,transform:"scale(1) translateY(0)"}],leave:[{opacity:0,transform:"translateY(-44px)"},{transform:"scale(0.8)"}]}),S=Object(p.d)(!O&&!!j&&j.id,null,{from:{opacity:0,transform:"translateY(2rem)"},enter:{opacity:1,transform:"translateY(0)"},leave:{opacity:0,transform:"translateY(2rem)"}});return Object(c.useEffect)(function(){var e,a;return t&&(D(t),e=n,a=r,g({type:d.d.type,payload:{id:e,accountNo:a}})),function(){D(!1)}},[t]),s.a.createPortal(b(i.a.Fragment,null,C.map(function(e){var t=e.key,n=e.item,a=e.props;return n&&b(m,{position:"fixed",top:0,bottom:0,right:0,zIndex:77,key:t,style:a},b(f.Box,{bg:"white",height:"100vh",boxShadow:"0 2px 6px 0 rgba(0, 0, 0, 0.07)"},b(f.Box,{width:"86rem",mx:"auto"},b(f.Flex,{flexDirection:"row",justifyContent:"space-between"},I.map(function(e){var t=e.item,n=e.props,a=e.key;return t&&b(m,{key:a,style:n,px:3,pt:"2.6rem",pb:2},b(f.Logo,{width:56}))}),b(f.Flex,{flexDirection:"row",alignItems:"center",width:"44rem",pt:"2.6rem",pb:2},b(f.H3,{fontSize:4,mb:0},j&&j.recepient||" ")),T.map(function(e){var t=e.item,n=e.props,a=e.key;return t&&b(m,{key:a,style:n,pt:"2.6rem",pb:2},b(y,{onClick:k,"aria-label":"Close details","aria-labelledby":"close-details"},b(f.Icon.CloseIcon,null)))})),b(f.Box,{width:"40rem",mx:"auto",py:5},O?b(f.Flex,{alignItems:"center",justifyContent:"center",py:5},b(f.Spinner,{variant:"primary"})):null,S.map(function(e){var t=e.item,n=e.key,a=e.props;return t&&!!j&&b(m,{key:n,style:a},b(h,{label:"Reference ID",value:j.refId}),b(f.Box,{py:3},b(v,null,b(h,{width:1,label:"Recipient Name",value:j.recepient}),b(f.Box,{width:1,height:1,bg:"white"}),b(h,{width:.5,label:"Payment Type",value:j.category.includes("salary")?"Salary":"Fund Transfer"}),b(h,{width:.5,label:"Amount",value:"".concat(j.currency," ").concat(j.amount)}),b(h,{width:.5,label:"Recipient Reference",value:j.refReference}),b(h,{width:.5,label:"Other Payment Details",value:j.description}))),b(h,{label:"Transaction Date",value:j.date}))})))))})),x)});w.defaultProps={visible:!1,id:"",accountNo:""},t.a=w},y01R:function(e,t,n){"use strict";var a=n("Iy7w"),r=n("ERkP"),o=n.n(r),c=n("h2/w"),i=o.a.createElement,l=Object(a.default)(c.Flex,{target:"eg3m1ox0"})({name:"e1ysxv",styles:"cursor:pointer;border-bottom:1px solid currentColor;"}),s=function(e){var t=e.transactions,n=e.onGetTransaction,a=e.isLoading;return i(c.Box,{className:"transactions--table",px:3},a?i(c.Flex,{alignItems:"center",justifyContent:"center",py:3},i(c.Spinner,{variant:"primary"})):t.map(function(e){return i(l,{key:e.id,onClick:function(){return n("".concat(e.id))},display:"block",className:"transaction--row",flexDirection:"row",alignItems:"flex-start",justifyContent:"space-between",py:3,color:"grey.4"},i(c.Flex,{flex:"auto",justifyContent:"space-between"},i(c.Flex,{flexDirection:"row",alignItems:"center"},i(c.Box,{mr:3,className:"transaction--icon"},function(e){switch(e){case"salary":return i(c.Icon.SalaryIcon,{color:"accent"});case"shopping":return i(c.Icon.ShoppingIcon,{color:"accent"});case"transfer":return i(c.Icon.TransferIcon,{color:"accent"});default:return i(c.Icon.SalaryIcon,{color:"accent"})}}(e.category)),i(c.Box,null,i(c.Text,{fontWeight:"bold",fontSize:2,color:"title",lineHeight:"copy"},e.recepient),i(c.Text,{fontSize:1,color:"caption",lineHeight:"copy"},e.description))),i(c.Flex,{flexDirection:"row"},i(c.Text,{fontSize:2,color:"credit"===e.type?"danger":"success",lineHeight:"copy"},"".concat("credit"===e.type?"- ":"").concat(e.currency," ").concat(e.amount)))),i(c.Box,{width:.25},i(c.Text,{textAlign:"right",fontSize:1,color:"title",lineHeight:"copy"},e.date)))}))};s.defaultProps={onGetTransaction:function(){},isLoading:!1},t.a=s}},[["UEUj",1,0]]]);